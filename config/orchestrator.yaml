# Orchestrator configuration
# Loaded by OrchestratorConfig.from_yaml()

orchestrator:
  vault_path: ~/AI_Employee_Vault   # resolved at runtime
  poll_interval: 30                 # seconds between discovery sweeps
  max_concurrent_tasks: 5           # parallel Claude invocations (future)
  claude_timeout: 3600              # seconds per Claude invocation (1 h)
  stop_hook_file: .claude_stop      # sentinel filename in vault root
  max_iterations: 100               # Ralph Wiggum bound

priority_weights:
  urgency: 0.4
  deadline: 0.3
  sender: 0.3

vip_senders:
  - ceo@company.com
  - board@company.com

# Keywords that force a task through the HITL approval gate
approval_keywords:
  - deploy
  - production
  - delete
  - payment
  - wire
  - send email
  - execute
  - remove

# Persistence-loop retry policy (Plan 04)
retry:
  max_attempts: 3       # consecutive transient failures before giving up
  base_delay: 1.0       # seconds (first backoff step)
  max_delay: 16.0       # seconds (backoff ceiling)
  jitter: 0.2           # ±20 %

# Metrics settings (US8)
metrics:
  enabled: true
  retention_days: 30    # keep metrics for 30 days

# Health check thresholds (US9)
health_check:
  max_stale_seconds: 300     # checkpoint older than this → stopped (5 min)
  max_backlog: 20            # warn if >20 pending tasks
  max_error_rate: 0.10       # warn if >10% failures
  max_idle_seconds: 3600     # warn if no completions in 1 hour

# Dashboard settings (US7)
dashboard:
  refresh_interval: 5        # seconds (for --watch mode)
  max_recent_tasks: 10       # show last N completions

# Notifications (optional, US10 + Polish)
notifications:
  enabled: false
  webhook_url: null          # set to Slack webhook URL or similar
  events:
    - task_failed
    - health_degraded
    - orchestrator_stopped
